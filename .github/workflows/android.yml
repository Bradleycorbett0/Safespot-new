[app]
title = SafeSpot
package.name = safespot
package.domain = com.bradleycorbettjones

# Your main file (change if yours is not main.py)
source.dir = .
source.include_exts = py,png,jpg,jpeg,kv,atlas,json,txt,ttf,otf,wav,mp3

# Kivy requirements (add more if your project uses them)
requirements = python3,kivy,requests,urllib3,idna,certifi,charset-normalizer

# If you use any local modules in folders, list them here (optional)
# include_exts = py,kv,png,jpg,json
# include_patterns =
# exclude_patterns = tests/*,*.pyc,*.pyo,__pycache__/*

# This is critical: show the real error
log_level = 2

# Optional but recommended
fullscreen = 0
orientation = portrait

# If you use a KV file as your root (optional)
# kv_filename = safespot.kv

# If you use an icon / presplash (optional)
# icon.filename = assets/icon.png
# presplash.filename = assets/presplash.png


[buildozer]
warn_on_root = 1


[android]
# Recommended bootstrap
bootstrap = sdl2

# Target / min API (matches what you were using)
api = 33
minapi = 21

# Architectures (keep both if you really need 32-bit)
arch = arm64-v8a, armeabi-v7a

# IMPORTANT: force Buildozer to use the SDK you install in the workflow.
# This stops it using /home/runner/.buildozer/android/platform/android-sdk
sdk_path = android-sdk

# IMPORTANT: p4a recommends r25b; Buildozer can still download it if needed.
# If you want to FORCE a specific NDK on runner, set an absolute path instead.
# Example: ndk_path = /usr/local/lib/android/sdk/ndk/25.2.9519653
# For now, keep it consistent with Buildozerâ€™s recommended version:
ndk_version = 25b

# Accept licenses (helps avoid interactive sdkmanager prompts)
accept_sdk_license = True

# If you need permissions, add them explicitly (examples below)
# permissions = INTERNET,ACCESS_NETWORK_STATE
permissions = INTERNET

# If your app needs GPS / maps, uncomment:
# permissions = INTERNET,ACCESS_NETWORK_STATE,ACCESS_FINE_LOCATION,ACCESS_COARSE_LOCATION

# If you attach photos / camera, uncomment:
# permissions = INTERNET,CAMERA,READ_MEDIA_IMAGES

# If you read/write files (Android 13+ is different), be careful; prefer Storage Access Framework.
# permissions = INTERNET,READ_MEDIA_IMAGES

# If you use android.ndk_api explicitly
ndk_api = 21

# Reduce random build variance
android.gradle_dependencies =
android.enable_androidx = True

# Useful when debugging native builds
# p4a.debug = True
# p4a.verbose = True
